\documentclass[screen, aspectratio=169]{beamer}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{tikz, environ}
\usepackage{listings}

% Use the NTNU-temaet for beamer 
% \usetheme[style=ntnu|simple|vertical|horizontal, 
%     language=bm|nn|en, 
%     smalltitle, 
%     city=all|trondheim|alesund|gjovik]{ntnu2017}
\usetheme[style=horizontal,language=bm]{ntnu2017}

\usepackage[norsk]{babel}

\input{../lstStyle.tex}
\lstset{language=Python}

\title[Short title]{Øvingsforelesning 7 i Python (TDT4110/TDT4127)}
\subtitle{Dictionaries, Set, Filhåndtering}
\author[O.M. Pedersen]{Ole-Magnus Pedersen}
\institute[NTNU]{}
\date{}
%\date{} % To have an empty date

\NewEnviron{transparent}{
	\tikz\node[opacity=0.2,align=left,inner xsep=0]{\parbox[t]{\linewidth}{
			\BODY
		}};
	}

\hypersetup{
	colorlinks,
	urlcolor={blue!70!black}
}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

% Alternatively, special title page command to get a different background
% \ntnutitlepage

\begin{frame}{Oversikt}
	\begin{itemize}
		\item Praktisk Info
		\begin{transparent}
			\item Programmering til øving 9
		\end{transparent}
	\end{itemize}
\end{frame}

\begin{frame}{Praktisk info}
	\begin{itemize}
		
	
		\item Auditorieøving 2
		\begin{itemize}
		    \item Må ikke tas av de som gjorde den 1., men teller som en øving
		    \item Er neste uke
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}{Oversikt}
	\begin{itemize}
		\begin{transparent}
			\item Praktisk Info
		\end{transparent}
		\item Programmering til Øving 9
	\end{itemize}
\end{frame}

\begin{frame}[fragile]{Dictionaries}
	\begin{columns}
		\begin{column}{.5\textwidth}
			\begin{itemize}
				\item ''Liste'' med selvvalgte indekser
				\begin{itemize}
					\item Kan sette inn nye verdier
					\item Hente ut eksisterende
					\item Verdier kan ha alle typer variabler
					\item få tak i nøkler. dict.keys()
					\item få tak i alt dic.items() 
					\item Legge til en annen - dict.update(dict2)
				\end{itemize}
				\item Sjekke om en key er i dictionary
				\begin{itemize}
				    \item \lstinline|if 'a' in dict.keys()|
				    
				\end{itemize}
				Kan iterere gjennom alle elementer
			
			\end{itemize}
		\end{column}
		\begin{column}{.5\textwidth}
			\begin{lstlisting}
dict = {}
dict["TDT4110"] = "IT Grunnkurs"
dict["TDT4105"] #KeyError


"TDT4110" in dict.keys() #true


for key, value in dict.items(): 
    #Key, er alle nøklene, 
    #Value er alle verdiene

			\end{lstlisting}
		\end{column}
	\end{columns}
\end{frame}

\begin{frame}[fragile]{Set (Mengde)}
    \begin{columns}
    \begin{column}{.4\textwidth}
        \begin{itemize}
            \item ''Liste'' som ikke kan inneholde duplikater
            \item Ingen gitt rekkefølge på elementene --- Kan ikke indekseres
            \item Har en del matematiske set-operasjoner
            \begin{itemize}
                \item Union (\lstinline{|})
                \item Snitt (\lstinline|&|)
                \item Super-/subset (\lstinline|>, <, >=, <=|)
            \end{itemize}
            \item Mer effektive enn lister til noen oppgaver (spes. \textit{lookup})
        \end{itemize}
    \end{column}
    \begin{column}{.6\textwidth}
        \begin{lstlisting}
s = set([2, 4, 6])
s.add(2) # Gjør ingen ting
s.add(8) # Legger til 8 i mengden
s.discard(4) # Fjerner tallet 4 fra mengden hvis det finnes

u = set([1, 2, 3, 4])
s.union(u) # Returnurerer unionen: {1, 2, 3, 4, 6, 8}
s | u # Samme som over
s.intersection(u) # Returnerer snittet: {2}
s & u # Samme som over
        \end{lstlisting}
    \end{column}
    \end{columns}
\end{frame}

\begin{frame}[fragile]{Filhåndtering}
	\begin{columns}
		\begin{column}{.4\textwidth}
			\begin{itemize}
				\item Må lukke filen etter å ha lest, with-funksjonen gjør dette enklere
				\item Filoperasjoner, ''r'', ''w'', ''a''
				\item Det du ønsker å gjøre
				\begin{itemize}
				    \item Lese inn filen
				    \item For hver linje i filen
				    \item Preprosesser (Fjern linjeskift etc)
				    \item Legg det i en liste? 
				\end{itemize}
			\end{itemize}
		\end{column}
		\begin{column}{.6\textwidth}
			\begin{lstlisting}
linjer = []
#Åpner filen med variabelen file
with open("fil.txt", "r") as file:
    for linje in file.readlines():
        #Linje er nå hver linje i filen
        
        linje = linje.strip() #Fjerner "whitespace" på starten og slutten
        linje = linje.split() #Splitter ved alle mellomrom i fila (Hvis kun en verdi, per linje 
        linjer.append(linje) #Matrise med alle verdiene


			\end{lstlisting}
		\end{column}
	\end{columns}
\end{frame}

\iffalse
\begin{frame}{Oppgaver - Dictionaries}
	\begin{itemize}
		\item<+-> Lag en dictionary: Prices, med nøklene ''banana'' =10, ''apple''=  5, ''grape''=  15, orange=25 
		
		\item<+-> Lag en funksjon, som tar inn en dictionary, en nøkkel, og en verdi, og oppdaterer dictionarien med den nye verdien
        \item<+-> Lag en funksjon som iterer gjennom dictionarien og printer ut hver nøkkel og verdi sammen med hverandre
		\item<+-> Skriv inn en funksjon, som tar inn en dictionary, og et tall - og returnerer alle nøklene i verdien, som du har råd til å kjøpe
        
		\item<+-> Lag en funksjon, som tar inn to dictionaries: En pris, og en ''handlekurv'' som ser slik ut: \lstinline|\{'apple': 2\}|. For alle tingene du har i handlekurven, finn ut total pris på alle varene dine, ved hjelp av pris-dictionaries
		

		\item<+-> Utvid funksjonen til å også ta inn en lager dictionary, med antall varer på lager. Funksjonen skal sjekke om det er nok varer på lager, kjøpe så mange som du har sagt i handlekurven, og redusere varelageret med så mange du kjøper

	\end{itemize}
\end{frame}
\fi

\begin{frame}[fragile]{Oppgaver --- Set og Dictionaries}
    \begin{itemize}
        \item Det skal holdes basar med loddtrekkning til inntekt for ''Slitne Programmereres Kodeklubb''. I den sammenheng må vi ha en måte å holde oversikt over hvem som har kjøpt hvilke lodd. Denne oversikten ønskes som en dictionary på formen \lstinline|{'Ola Nordmann': [2, 4, 5, 6]}|.
        \item Lag en funksjon \lstinline|sell_ticket(name, ticket)| som legger til loddet \lstinline|ticket| i lista med lodd for navnet \lstinline|name|.
        \item<2-> \textbf{Hint:} Husk at du må passe på om \lstinline|name| har kjøpt lodd tidligere
        \item<3-> Vi skal trekke ut 5 vinnertall i en loddtrekkning. Samme tall kan ikke vinne flere ganger. Bruk \lstinline|random.randint()| og en mengde for å trekke unike, tilfeldige tall. Minimums- og maksimumsloddet kan trekkes tas inn som et parameter.
        \item<4-> Til slutt må vi finne ut hvem som vant. Lag en funksjon som finner navnet på vinnerne gitt lodd-dictionaryen og settet med vinnertall.
    \end{itemize}
\end{frame}

\iffalse
\begin{frame}{Gjennomgang - Filhåndtering}
	\begin{itemize}
		\item Skriv en funksjon som tar inn et filnavn og to tall, a og b. Programmet skal skrive til fil 100 tilfeldige tall mellom a og b, med linjeskift mellom. 
		\begin{itemize}
		    \item Hint: file.write("\textbackslash n")
		\end{itemize}
		\item Skriv en funksjon som legger til 20 nye tilfeldige tall i en fil
		\item Skriv en funksjon som tar inn overnevnte fil, og putter alle tallene i en liste, og returnerer. 
		\item Skriv en funksjon som finner det største tallet i en slik fil. 
		\item \textbf{Demo}: Hva skjer hvis tallene er separert 5 og 5 tall på hver linje
		

	\end{itemize}
\end{frame}
\fi

\begin{frame}{Eksamensoppgave}
    \begin{itemize}
        \item \href{https://www.ntnu.no/wiki/download/attachments/78972128/Python 2013.pdf?version=1&modificationDate=1417710963000&api=v2}{Eksamen Høst 2013 --- Oppgave 4}
    \end{itemize}
\end{frame}


\begin{frame}{Spørsmål}
	\begin{itemize}
		\item Spørsmål kan også sendes på mail til \href{mailto::olemagnp@stud.ntnu.no}{olemagnp@stud.ntnu.no}
	\end{itemize}
\end{frame}

\end{document}
